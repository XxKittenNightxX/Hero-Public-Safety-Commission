<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Hero Public Safety Commission - Home</title>
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <header class="site-header">
            <img src="img/HPSC.jpeg" alt="Hero Public Safety Commission emblem" class="emblem" />
            <div>
                <div class="site-title">Hero Public Safety Commission</div>
                <div class="site-sub">Protecting our community — public safety & oversight</div>
            </div>
        </header>

        <div class="container">
            <nav class="site-nav">
                <a href="index.html">Home</a>
                <a href="login.html">Login</a>
                <a href="protected.html">Protected</a>
            </nav>

            <section class="hero card" style="margin-top:18px">
                <h1>Welcome</h1>
                <p>The Hero Public Safety Commission works to ensure a safe, fair, and accountable community. Use the links above to sign in and access restricted resources.</p>

                <div class="status" id="status">Checking login status…</div>
            </section>

            <footer class="site-footer">© <span id="year"></span> Hero Public Safety Commission</footer>
        </div>

        <script src="js/auth.js"></script>
        <script>
            // small scripts for status and year
            document.getElementById('year').textContent = new Date().getFullYear();
            const statusEl = document.getElementById('status');
            if (Auth.isLoggedIn()) {
                statusEl.innerHTML = `Logged in as <strong>${Auth.getUsername()}</strong>. `;
                const btn = document.createElement('button');
                btn.textContent = 'Logout';
                btn.className = 'btn btn-secondary';
                btn.addEventListener('click', () => { Auth.logout(); location.reload(); });
                statusEl.appendChild(btn);
            } else {
                statusEl.innerHTML = 'Not logged in.';
            }
        </script>
    </body>
</html>
