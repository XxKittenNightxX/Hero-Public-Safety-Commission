<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chimera Project - Subject List</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body data-project="chimara">
    <script src="../../auth.js"></script>
    <script>protectPage('clerk');</script>
    <header class="project-header">
        <div class="container">
            <div class="header-content">
                <img src="/img/HPSC.jpeg" alt="HPSC Logo" class="header-logo">
                <div class="header-text">
                    <h1>The Chimera Project</h1>
                    <p class="project-subtitle">Next Generation Hero Development Program</p>
                </div>
            </div>
            <nav class="project-nav">
                <a href="../home.html">Dashboard</a>
                <a href="list.html" class="active">Subjects</a>
                <a href="../Classifications.html">Classifications</a>
                <a href="/projects/chimara/subjects/generator.html" id="newSubjectBtn" style="display: none;">New subject</a>
                <a href="../../../index.html" class="logout-btn">‚Üê Logout</a>
            </nav>
        </div>
    </header>

    <div class="subjects-page">
        <div class="container">
            <div class="page-header">
                <h1>Subject Database</h1>
                <p>Complete registry of all Chimera Project subjects</p>
            </div>

            <div class="controls">
                <input type="text" id="searchBox" class="search-box" placeholder="Search by subject number or name...">
                <select id="statusFilter" class="filter-select">
                    <option value="all">All Statuses</option>
                    <option value="alive">Alive</option>
                    <option value="deceased">Deceased</option>
                    <option value="graduated">Graduated</option>
                    <option value="tracked">Tracked</option>
                    <option value="missing">Missing</option>
                    <option value="terminated">Terminated</option>
                    <option value="under-observation">Under Observation</option>
                </select>
                <select id="clearanceFilter" class="filter-select">
                    <option value="all">All Clearance Levels</option>
                    <option value="level-1">Level 1</option>
                    <option value="level-2">Level 2</option>
                    <option value="level-3">Level 3</option>
                    <option value="level-4">Level 4</option>
                    <option value="level-5">Level 5</option>
                </select>
                <button id="filterPages" class="filter-btn">With Pages Only</button>
                <button id="clearFilter" class="filter-btn">Clear Filters</button>
            </div>

            <div class="stats">
                <div class="stat-item">
                    <strong id="totalCount">2600</strong> Total Subjects
                </div>
                <div class="stat-item">
                    <strong id="aliveCount">780</strong> Alive
                </div>
                <div class="stat-item">
                    <strong id="graduatedCount">291</strong> Graduated
                </div>
                <div class="stat-item">
                    <strong id="deceasedCount">1820</strong> Deceased
                </div>
                <div class="stat-item">
                    <strong id="shownCount">2600</strong> Currently Shown
                </div>
            </div>

            <div id="subjectsContainer" class="subjects-container">
                <div class="loading">Loading subjects...</div>
            </div>
        </div>
    </div>

    <footer class="project-footer">
        <div class="container">
            <p>&copy; 2025 Hero Public Safety Commission - The Chimera Project</p>
            <p class="security-text">CLASSIFIED - Level 4 Clearance Required</p>
        </div>
    </footer>

    <script src="assets/js/subject-data.js"></script>
    <script src="assets/js/list-script.js"></script>
    <script>
        // Show New Subject button only for admin and director
        if (hasAccessLevel('admin')) {
            document.getElementById('newSubjectBtn').style.display = '';
        }
    </script>
</body>
</html>